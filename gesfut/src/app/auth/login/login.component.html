<section>
  <div class="form">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <h2 class="title">INICIA SESION</h2>
      <div class="error-message">
        <!-- @if (error) {
          <p class="error">{{ error }}</p>
        } REMPLAZADO POR ALERT SERVICE-->
      </div>

      <div class="form-group input-icon">
        <input id="email" type="email" formControlName="email" placeholder="Correo electrónico" />
        <i class="fas fa-envelope"></i>
      </div>
      <div class="error-message">
        @if(loginForm.controls['email'].getError('required') && loginForm.controls['email'].touched) {
          <p class="error">El correo electrónico es requerido</p>
        }
        @if(loginForm.controls['email'].getError('email') && loginForm.controls['email'].touched) {
          <p class="error">Ingrese un correo electrónico válido</p>
        }
      </div>

      <div class="form-group input-icon">
        <input id="password" type="password" formControlName="password" placeholder="Contraseña" />
        <i class="fas fa-lock"></i>
      </div>

      <div class="error-message">
        @if(loginForm.controls['password'].getError('required') && loginForm.controls['password'].touched) {
          <p class="error">La contraseña es requerida</p>
        }
        @if(loginForm.controls['password'].getError('minlength') && loginForm.controls['password'].touched) {
          <p class="error">La contraseña debe tener al menos 6 caracteres</p>
        }
      </div>

      <button type="submit" class="base-button">ENVIAR</button>
      <a class="link" (click)="toRegister()">No tenes cuenta? Registrate aca!</a>
      @if (tryLogin) {
        <a class="link" (click)="toForgotPassword()">Olvide mi contraseña.</a>
      }
    </form>
  </div>
</section>
